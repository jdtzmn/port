{"id":"port-03r","title":"Generate ONBOARD.md file dynamically from onboard command","description":"Generate an `ONBOARD.md` file dynamically from the onboard command, or reuse it. This file can be used as external instructions for agents (e.g. opencode custom instructions).","status":"in_progress","priority":2,"issue_type":"feature","owner":"jdtzmn@gmail.com","created_at":"2026-02-17T23:20:38.053098-05:00","created_by":"Jacob Daitzman","updated_at":"2026-02-17T23:41:43.4068-05:00","external_ref":"gh-7"}
{"id":"port-334","title":"Normalize container_name by worktree in override generation","description":"Add a defensive normalization step in Port's override generation so any service that declares container_name gets a worktree-scoped name in .port/override.yml instead of the fixed upstream value.\n\nImplementation details:\n- In generateOverrideContent (src/lib/compose.ts), when iterating services, check service.container_name.\n- If present, set serviceOverride.container_name to a deterministic unique value derived from Port project/worktree identity (for example ${worktreeName}-${serviceName} or ${projectName}-${serviceName}), sanitized to [a-z0-9][a-z0-9_.-]* and truncated safely.\n- Keep behavior unchanged for services without container_name.\n- Continue overriding ports/labels/networks as today.\n\nTests in src/lib/compose.test.ts:\n1) Fixed container_name is rewritten.\n2) Rewritten name is stable for a given worktree.\n3) Different worktrees produce different names.\n\nOptional follow-up (nice-to-have): emit a warning log when Port detects and rewrites container_name so users understand why port up succeeds where raw compose might conflict.","status":"closed","priority":2,"issue_type":"task","owner":"jdtzmn@gmail.com","created_at":"2026-02-05T23:17:56.485749-05:00","created_by":"Jacob Daitzman","updated_at":"2026-02-05T23:38:18.160734-05:00","closed_at":"2026-02-05T23:38:18.160734-05:00","close_reason":"Override generation now rewrites fixed container_name values to deterministic worktree-scoped names with tests for rewrite, stability, and per-worktree uniqueness"}
{"id":"port-4mk","title":"Handle root worktree behavior for port urls after root port up","status":"closed","priority":2,"issue_type":"bug","owner":"jdtzmn@gmail.com","created_at":"2026-02-10T22:05:13.057108-05:00","created_by":"Jacob Daitzman","updated_at":"2026-02-10T22:08:43.93731-05:00","closed_at":"2026-02-10T22:08:43.93731-05:00","close_reason":"Closed"}
{"id":"port-4y4","title":"Running `port list` from a non-github repo should list all the running services","status":"closed","priority":2,"issue_type":"task","owner":"jdtzmn@gmail.com","created_at":"2026-02-06T01:13:38.127219-05:00","created_by":"Jacob Daitzman","updated_at":"2026-02-06T11:28:56.52895-05:00","closed_at":"2026-02-06T11:28:56.52895-05:00","close_reason":"Updated port list to fall back to global registered services outside managed repos"}
{"id":"port-6n7","title":"Create a port exit command that returns to root","description":"Create a `port exit` command that returns to the root regardless of whether you entered with `port enter`. If within a port sub-shell, it should exit it as well. This allows users who open a new terminal on an existing branch to always run `port exit`.","status":"in_progress","priority":2,"issue_type":"feature","owner":"jdtzmn@gmail.com","created_at":"2026-02-17T23:20:40.636827-05:00","created_by":"Jacob Daitzman","updated_at":"2026-02-17T23:41:44.067774-05:00","external_ref":"gh-8"}
{"id":"port-87s","title":"Remove TASK-ID-UX-SPEC.md after ADR implementation lands","status":"closed","priority":3,"issue_type":"task","owner":"jdtzmn@gmail.com","created_at":"2026-02-12T13:52:48.849624-05:00","created_by":"Jacob Daitzman","updated_at":"2026-02-12T14:22:00.748589-05:00","closed_at":"2026-02-12T14:22:00.748589-05:00","close_reason":"Closed"}
{"id":"port-90z","title":"Port down from anywhere even if it's not initialized should bring down traefik","status":"closed","priority":0,"issue_type":"task","owner":"jdtzmn@gmail.com","created_at":"2026-02-05T22:06:45.778503-05:00","created_by":"Jacob Daitzman","updated_at":"2026-02-05T23:49:39.712242-05:00","closed_at":"2026-02-05T23:49:39.712242-05:00","close_reason":"port down now falls back to global Traefik shutdown when outside a port worktree or in a repository that is not initialized, with prompt and --yes support plus unit tests"}
{"id":"port-a8a","title":"Support command-name branches via explicit enter command","description":"Users cannot use branch names that match top-level commands (e.g. status, install). Add an explicit 'port enter \u003cbranch\u003e' path so command-name branches are always accessible, while keeping 'port \u003cbranch\u003e' as shorthand when unambiguous.","acceptance_criteria":"1) 'port enter \u003cbranch\u003e' works for any valid branch name, including command names. 2) If 'port \u003cname\u003e' collides with a command, CLI prints a clear hint to use 'port enter \u003cname\u003e'. 3) Tests cover collision and non-collision paths. 4) README documents the behavior.","status":"closed","priority":2,"issue_type":"feature","owner":"jdtzmn@gmail.com","created_at":"2026-02-10T13:48:43.925055-05:00","created_by":"Jacob Daitzman","updated_at":"2026-02-10T22:26:09.404566-05:00","closed_at":"2026-02-10T22:26:09.404566-05:00","close_reason":"Closed"}
{"id":"port-adr","title":"Explore better task ID UX and CLI-facing identifier model","description":"Evaluate alternatives to current task IDs for better usability: sequential integers, short human-readable word slugs (for example three words), and short unique prefixes similar to git commit shorthand. Define how ambiguity resolution should work and what minimum typed prefix is allowed. Also define separation between internal identifiers (including task-derived branches) and CLI-facing display/reference IDs so users primarily interact with simpler IDs in commands and output.","acceptance_criteria":"1) Document recommendation with tradeoffs for at least three ID strategies (integer, word-based, short prefix). 2) Specify ambiguity resolution rules and user input behavior. 3) Specify CLI output/command reference model using user-facing IDs while preserving internal branch/task linkage. 4) Propose migration/backward-compatibility approach for existing tasks.","notes":"Drafted design spec with alternatives, recommendation, ambiguity rules, CLI model, and migration plan.","spec_id":"TASK-ID-UX-SPEC.md","status":"closed","priority":2,"issue_type":"task","owner":"jdtzmn@gmail.com","created_at":"2026-02-12T02:26:17.073013-05:00","created_by":"Jacob Daitzman","updated_at":"2026-02-12T13:52:53.133037-05:00","closed_at":"2026-02-12T13:52:53.133037-05:00","close_reason":"Closed"}
{"id":"port-bdt","title":"Add test for switching port worktrees from a port worktree","description":"Add a test to check that `port demo-1` checks out, then `port demo-2` sees that it jumps at the same level instead of going down another depth.","status":"in_progress","priority":2,"issue_type":"task","owner":"jdtzmn@gmail.com","created_at":"2026-02-17T23:20:34.635879-05:00","created_by":"Jacob Daitzman","updated_at":"2026-02-17T23:41:43.050839-05:00","external_ref":"gh-5"}
{"id":"port-cxr","title":"Task resumability and attach revive continuation model","description":"Implement adapter-native checkpoint/restore continuity, continuation runs, and attach-driven revive semantics (including terminal tasks) with event-stream observability, per updated V2/V3 plans.","acceptance_criteria":"1) Tasks can be resumed from adapter checkpoints without global graph coupling. 2) Attach can revive dead/terminal tasks under same task id with incremented runAttempt. 3) Event stream exposes revive/restore lifecycle with replay cursors. 4) Resume remains non-terminal only while attach supports revive path.","status":"closed","priority":1,"issue_type":"epic","owner":"jdtzmn@gmail.com","created_at":"2026-02-12T01:27:07.662624-05:00","created_by":"Jacob Daitzman","updated_at":"2026-02-12T14:19:10.062776-05:00","closed_at":"2026-02-12T14:19:10.062776-05:00","close_reason":"Closed"}
{"id":"port-cxr.1","title":"Add adapter checkpoint/restore contract and scheduler integration","description":"Extend task execution adapters with checkpoint/restore capabilities and integrate scheduler lifecycle so non-terminal resume uses adapter restore reliably.","acceptance_criteria":"1) Adapter interface includes checkpoint/restore capability flags and methods. 2) Scheduler stores and loads checkpoint refs per run attempt. 3) Resume command uses adapter restore for non-terminal states.","status":"closed","priority":1,"issue_type":"feature","owner":"jdtzmn@gmail.com","created_at":"2026-02-12T01:27:07.867682-05:00","created_by":"Jacob Daitzman","updated_at":"2026-02-12T01:39:39.886539-05:00","closed_at":"2026-02-12T01:39:39.886539-05:00","close_reason":"Closed","dependencies":[{"issue_id":"port-cxr.1","depends_on_id":"port-cxr","type":"parent-child","created_at":"2026-02-12T01:27:07.868534-05:00","created_by":"Jacob Daitzman"}]}
{"id":"port-cxr.2","title":"Implement continuation runs under same task id","description":"Support multiple run attempts on one task id, including persisted runAttempt metadata, run history summaries, and transition events for continuation starts.","acceptance_criteria":"1) Task model tracks runAttempt and run history. 2) Continuation run increments runAttempt without creating new task id. 3) Events include continuation-start lifecycle entries.","status":"closed","priority":1,"issue_type":"feature","owner":"jdtzmn@gmail.com","created_at":"2026-02-12T01:27:08.113986-05:00","created_by":"Jacob Daitzman","updated_at":"2026-02-12T11:11:13.683698-05:00","closed_at":"2026-02-12T11:11:13.683698-05:00","close_reason":"Closed","dependencies":[{"issue_id":"port-cxr.2","depends_on_id":"port-cxr","type":"parent-child","created_at":"2026-02-12T01:27:08.114761-05:00","created_by":"Jacob Daitzman"},{"issue_id":"port-cxr.2","depends_on_id":"port-cxr.1","type":"blocks","created_at":"2026-02-12T01:27:08.963668-05:00","created_by":"Jacob Daitzman"}]}
{"id":"port-cxr.3","title":"Implement attach revive flow for dead and terminal tasks","description":"Update attach semantics so dead/terminal tasks can be revived before handoff, using adapter restore and continuation runs.","acceptance_criteria":"1) attach revives dead tasks and terminal tasks before attaching. 2) revive transitions use reviving_for_attach and emit revive_started/succeeded/failed events. 3) terminal tasks remain terminal for resume command semantics.","status":"closed","priority":1,"issue_type":"feature","owner":"jdtzmn@gmail.com","created_at":"2026-02-12T01:27:08.334178-05:00","created_by":"Jacob Daitzman","updated_at":"2026-02-12T11:32:33.263656-05:00","closed_at":"2026-02-12T11:32:33.263656-05:00","close_reason":"Closed","dependencies":[{"issue_id":"port-cxr.3","depends_on_id":"port-cxr","type":"parent-child","created_at":"2026-02-12T01:27:08.334938-05:00","created_by":"Jacob Daitzman"},{"issue_id":"port-cxr.3","depends_on_id":"port-cxr.1","type":"blocks","created_at":"2026-02-12T01:27:09.135409-05:00","created_by":"Jacob Daitzman"},{"issue_id":"port-cxr.3","depends_on_id":"port-cxr.2","type":"blocks","created_at":"2026-02-12T01:27:09.322615-05:00","created_by":"Jacob Daitzman"}]}
{"id":"port-cxr.4","title":"Add event-stream support for revive and checkpoint lifecycle","description":"Extend adapter-agnostic event schema and subscriber outputs for checkpoint/restore and attach revive transitions with replay-safe cursors.","acceptance_criteria":"1) Event stream includes checkpointed/restored/revive events. 2) Subscribers can replay from cursor and receive new lifecycle events consistently. 3) Docs cover event meanings and ordering guarantees.","status":"closed","priority":2,"issue_type":"feature","owner":"jdtzmn@gmail.com","created_at":"2026-02-12T01:27:08.571645-05:00","created_by":"Jacob Daitzman","updated_at":"2026-02-12T11:47:26.490529-05:00","closed_at":"2026-02-12T11:47:26.490529-05:00","close_reason":"Closed","dependencies":[{"issue_id":"port-cxr.4","depends_on_id":"port-cxr","type":"parent-child","created_at":"2026-02-12T01:27:08.572364-05:00","created_by":"Jacob Daitzman"},{"issue_id":"port-cxr.4","depends_on_id":"port-cxr.1","type":"blocks","created_at":"2026-02-12T01:27:09.487954-05:00","created_by":"Jacob Daitzman"}]}
{"id":"port-cxr.5","title":"Document and test OpenCode checkpoint/continue compatibility","description":"Define OpenCode-specific checkpoint metadata expectations so adapter restore can preserve continue behavior, with fallback summary strategy.","acceptance_criteria":"1) OpenCode adapter metadata contract documented. 2) Fallback strategy defined when exact session restore is unavailable. 3) Tests validate at least one restore path and fallback path.","status":"closed","priority":2,"issue_type":"feature","owner":"jdtzmn@gmail.com","created_at":"2026-02-12T01:27:08.78902-05:00","created_by":"Jacob Daitzman","updated_at":"2026-02-12T14:19:00.327343-05:00","closed_at":"2026-02-12T14:19:00.327343-05:00","close_reason":"Closed","dependencies":[{"issue_id":"port-cxr.5","depends_on_id":"port-cxr","type":"parent-child","created_at":"2026-02-12T01:27:08.789722-05:00","created_by":"Jacob Daitzman"},{"issue_id":"port-cxr.5","depends_on_id":"port-cxr.1","type":"blocks","created_at":"2026-02-12T01:27:09.659943-05:00","created_by":"Jacob Daitzman"}]}
{"id":"port-dm2","title":"Add task ls alias for task list command","description":"Add port task ls as an alias for port task list so task subcommands match the existing port list/port ls pattern and improve CLI consistency.","acceptance_criteria":"1) port task ls invokes the same behavior as port task list. 2) Help output documents the alias. 3) Tests cover alias behavior.","status":"closed","priority":3,"issue_type":"chore","owner":"jdtzmn@gmail.com","created_at":"2026-02-12T02:23:42.036337-05:00","created_by":"Jacob Daitzman","updated_at":"2026-02-12T14:22:00.302359-05:00","closed_at":"2026-02-12T14:22:00.302359-05:00","close_reason":"Closed"}
{"id":"port-duo","title":"Project hardening and DX improvements","description":"Track reliability, security, CI, and docs improvements identified in repo review.","status":"closed","priority":1,"issue_type":"epic","owner":"jdtzmn@gmail.com","created_at":"2026-02-05T23:10:40.316486-05:00","created_by":"Jacob Daitzman","updated_at":"2026-02-10T22:26:25.824629-05:00","closed_at":"2026-02-10T22:26:25.824629-05:00","close_reason":"Closed"}
{"id":"port-duo.1","title":"Fix README and docs drift to match current .port behavior","description":"Update README examples and architecture docs from legacy .code/.local and old config shape to current .port/domain behavior.","status":"closed","priority":1,"issue_type":"task","owner":"jdtzmn@gmail.com","created_at":"2026-02-05T23:10:40.388591-05:00","created_by":"Jacob Daitzman","updated_at":"2026-02-05T23:17:22.748574-05:00","closed_at":"2026-02-05T23:17:22.748574-05:00","close_reason":"README updated to use .port paths, *.port domain, current config schema, and Bun runtime requirements","dependencies":[{"issue_id":"port-duo.1","depends_on_id":"port-duo","type":"parent-child","created_at":"2026-02-05T23:10:40.389411-05:00","created_by":"Jacob Daitzman"}]}
{"id":"port-duo.2","title":"Harden command execution and argument handling","description":"Reduce shell-string interpolation usage and move to safer argument-based execution where possible to avoid injection and quoting issues.","status":"closed","priority":1,"issue_type":"task","owner":"jdtzmn@gmail.com","created_at":"2026-02-05T23:10:40.458948-05:00","created_by":"Jacob Daitzman","updated_at":"2026-02-11T00:07:02.136753-05:00","closed_at":"2026-02-11T00:07:02.136753-05:00","close_reason":"Closed","dependencies":[{"issue_id":"port-duo.2","depends_on_id":"port-duo","type":"parent-child","created_at":"2026-02-05T23:10:40.459474-05:00","created_by":"Jacob Daitzman"}]}
{"id":"port-duo.3","title":"Add locking/atomicity for global registry and Traefik state","description":"Prevent race conditions when multiple port commands run concurrently by introducing file locks or atomic write strategy.","status":"closed","priority":1,"issue_type":"task","owner":"jdtzmn@gmail.com","created_at":"2026-02-05T23:10:40.526792-05:00","created_by":"Jacob Daitzman","updated_at":"2026-02-06T11:28:56.217047-05:00","closed_at":"2026-02-06T11:28:56.217047-05:00","close_reason":"Implemented file-lock + atomic write strategy for registry and Traefik state with concurrency tests","dependencies":[{"issue_id":"port-duo.3","depends_on_id":"port-duo","type":"parent-child","created_at":"2026-02-05T23:10:40.527298-05:00","created_by":"Jacob Daitzman"}]}
{"id":"port-duo.4","title":"Isolate tests from real user ~/.port state","description":"Refactor tests to use temp HOME or injectable global paths so tests never read/write real user state.","status":"closed","priority":1,"issue_type":"task","owner":"jdtzmn@gmail.com","created_at":"2026-02-05T23:10:40.591872-05:00","created_by":"Jacob Daitzman","updated_at":"2026-02-06T01:04:29.05766-05:00","closed_at":"2026-02-06T01:04:29.05766-05:00","close_reason":"Closed","dependencies":[{"issue_id":"port-duo.4","depends_on_id":"port-duo","type":"parent-child","created_at":"2026-02-05T23:10:40.592397-05:00","created_by":"Jacob Daitzman"}]}
{"id":"port-duo.5","title":"Add macOS CI coverage in addition to Linux","description":"Introduce at least one macOS CI job for core workflows to validate claimed platform support.","status":"closed","priority":2,"issue_type":"task","owner":"jdtzmn@gmail.com","created_at":"2026-02-05T23:10:40.662548-05:00","created_by":"Jacob Daitzman","updated_at":"2026-02-06T11:28:56.283129-05:00","closed_at":"2026-02-06T11:28:56.283129-05:00","close_reason":"Added macOS core-check CI coverage while keeping Linux integration workflow","dependencies":[{"issue_id":"port-duo.5","depends_on_id":"port-duo","type":"parent-child","created_at":"2026-02-05T23:10:40.663406-05:00","created_by":"Jacob Daitzman"}]}
{"id":"port-duo.6","title":"Centralize CLI error and exit handling","description":"Reduce direct process.exit calls inside command modules and route failures through a consistent top-level error handling approach.","status":"closed","priority":2,"issue_type":"task","owner":"jdtzmn@gmail.com","created_at":"2026-02-05T23:10:40.728293-05:00","created_by":"Jacob Daitzman","updated_at":"2026-02-06T11:12:13.168029-05:00","closed_at":"2026-02-06T11:12:13.168029-05:00","close_reason":"Closed","dependencies":[{"issue_id":"port-duo.6","depends_on_id":"port-duo","type":"parent-child","created_at":"2026-02-05T23:10:40.728953-05:00","created_by":"Jacob Daitzman"}]}
{"id":"port-duo.7","title":"Align runtime messaging and packaging (Bun vs Node)","description":"Clarify runtime expectations across README, scripts, and packaging to avoid mixed Bun/Node messaging.","status":"closed","priority":2,"issue_type":"task","owner":"jdtzmn@gmail.com","created_at":"2026-02-05T23:10:40.794224-05:00","created_by":"Jacob Daitzman","updated_at":"2026-02-06T11:28:56.346405-05:00","closed_at":"2026-02-06T11:28:56.346405-05:00","close_reason":"Aligned Bun runtime messaging across README/package metadata and scripts","dependencies":[{"issue_id":"port-duo.7","depends_on_id":"port-duo","type":"parent-child","created_at":"2026-02-05T23:10:40.794803-05:00","created_by":"Jacob Daitzman"}]}
{"id":"port-duo.8","title":"Remove unused dependencies docker-compose and dockerode","description":"Verify source usage and remove unused dependencies to reduce install size and dependency surface.","status":"closed","priority":3,"issue_type":"chore","owner":"jdtzmn@gmail.com","created_at":"2026-02-05T23:10:40.860286-05:00","created_by":"Jacob Daitzman","updated_at":"2026-02-10T22:26:20.345379-05:00","closed_at":"2026-02-10T22:26:20.345379-05:00","close_reason":"Closed","dependencies":[{"issue_id":"port-duo.8","depends_on_id":"port-duo","type":"parent-child","created_at":"2026-02-05T23:10:40.860792-05:00","created_by":"Jacob Daitzman"}]}
{"id":"port-duo.9","title":"Add test coverage for port uninstall command","description":"Add automated tests for src/commands/uninstall.ts, including no-op when DNS is not configured, confirmation flow, --yes behavior, and platform-specific uninstall path selection (macOS/linux dual-mode/standalone) with mocked side effects.","status":"closed","priority":2,"issue_type":"task","owner":"jdtzmn@gmail.com","created_at":"2026-02-05T23:53:18.630752-05:00","created_by":"Jacob Daitzman","updated_at":"2026-02-06T11:28:56.408572-05:00","closed_at":"2026-02-06T11:28:56.408572-05:00","close_reason":"Added uninstall command test coverage for confirmation/no-op/--yes/platform branches","dependencies":[{"issue_id":"port-duo.9","depends_on_id":"port-duo","type":"parent-child","created_at":"2026-02-05T23:53:18.63139-05:00","created_by":"Jacob Daitzman"}]}
{"id":"port-dz9","title":"Port v2 background tasks and remote-ready adapter architecture","description":"Implement v2 asynchronous task execution with daemonized scheduling, ephemeral worktree workers, durable artifacts, task/apply UX, and remote-ready adapter interfaces as defined in V2-PLAN.md.","acceptance_criteria":"1) Users can run background tasks via port task commands without blocking active sessions. 2) Required write artifacts are retained and can be applied later via cherry-pick/bundle/patch fallback. 3) Adapter interface supports both local and stub remote implementations. 4) Config supports split task/remote sections in .port/config.jsonc.","status":"closed","priority":1,"issue_type":"epic","owner":"jdtzmn@gmail.com","created_at":"2026-02-11T00:10:04.513895-05:00","created_by":"Jacob Daitzman","updated_at":"2026-02-12T01:18:06.602852-05:00","closed_at":"2026-02-12T01:18:06.602852-05:00","close_reason":"Closed"}
{"id":"port-dz9.1","title":"Implement task daemon core with persistent queue/state machine","description":"Build the local scheduler daemon (auto-start, idle auto-stop at 10m), persistent task state/event log under .port/jobs, and branch lock queueing for write tasks.","acceptance_criteria":"1) daemon auto-starts when needed and auto-stops after 10m idle. 2) task states persist and recover across daemon restart. 3) write tasks targeting same branch queue automatically.","status":"closed","priority":1,"issue_type":"feature","owner":"jdtzmn@gmail.com","created_at":"2026-02-11T00:10:04.757176-05:00","created_by":"Jacob Daitzman","updated_at":"2026-02-11T00:56:33.089589-05:00","closed_at":"2026-02-11T00:56:33.089589-05:00","close_reason":"Closed","dependencies":[{"issue_id":"port-dz9.1","depends_on_id":"port-dz9","type":"parent-child","created_at":"2026-02-11T00:10:04.758028-05:00","created_by":"Jacob Daitzman"}]}
{"id":"port-dz9.2","title":"Add local execution adapter with ephemeral worktree workers","description":"Implement local adapter using isolated ephemeral worktrees and subprocess workers with timeout/cancel semantics and failure retention for debugging.","acceptance_criteria":"1) local adapter uses shared execution interface. 2) successful runs clean worktrees; failed runs retained for cleanup. 3) worker lifecycle supports cancel/timeout and status reporting.","status":"closed","priority":1,"issue_type":"feature","owner":"jdtzmn@gmail.com","created_at":"2026-02-11T00:10:04.999848-05:00","created_by":"Jacob Daitzman","updated_at":"2026-02-11T01:04:36.753963-05:00","closed_at":"2026-02-11T01:04:36.753963-05:00","close_reason":"Closed","dependencies":[{"issue_id":"port-dz9.2","depends_on_id":"port-dz9","type":"parent-child","created_at":"2026-02-11T00:10:05.000619-05:00","created_by":"Jacob Daitzman"},{"issue_id":"port-dz9.2","depends_on_id":"port-dz9.1","type":"blocks","created_at":"2026-02-11T00:10:06.263025-05:00","created_by":"Jacob Daitzman"}]}
{"id":"port-dz9.3","title":"Implement task artifact contract and apply workflow","description":"Produce required write artifacts (commit refs, patch, stdout/stderr logs, metadata.json) and implement port task apply with default CP-\u003ebundle-\u003epatch fallback preserving commit series by default.","acceptance_criteria":"1) write tasks always produce required artifacts. 2) apply requires clean working tree by default. 3) apply preserves commit series and stops on conflicts. 4) --squash supported.","status":"closed","priority":1,"issue_type":"feature","owner":"jdtzmn@gmail.com","created_at":"2026-02-11T00:10:05.275436-05:00","created_by":"Jacob Daitzman","updated_at":"2026-02-11T23:24:55.012892-05:00","closed_at":"2026-02-11T23:24:55.012892-05:00","close_reason":"Closed","dependencies":[{"issue_id":"port-dz9.3","depends_on_id":"port-dz9","type":"parent-child","created_at":"2026-02-11T00:10:05.276353-05:00","created_by":"Jacob Daitzman"},{"issue_id":"port-dz9.3","depends_on_id":"port-dz9.2","type":"blocks","created_at":"2026-02-11T00:10:06.461394-05:00","created_by":"Jacob Daitzman"}]}
{"id":"port-dz9.4","title":"Ship port task CLI surface (start/list/read/logs/watch/cancel/wait/artifacts/cleanup)","description":"Implement v2 task command suite including watch table with optional --logs mode and cleanup behavior that stops idle daemon.","acceptance_criteria":"1) command set is functional and documented. 2) watch shows live table with optional log tailing. 3) cleanup runs GC behavior and stops daemon when idle.","status":"closed","priority":2,"issue_type":"feature","owner":"jdtzmn@gmail.com","created_at":"2026-02-11T00:10:05.568502-05:00","created_by":"Jacob Daitzman","updated_at":"2026-02-12T00:23:27.783868-05:00","closed_at":"2026-02-12T00:23:27.783868-05:00","close_reason":"Closed","dependencies":[{"issue_id":"port-dz9.4","depends_on_id":"port-dz9","type":"parent-child","created_at":"2026-02-11T00:10:05.569311-05:00","created_by":"Jacob Daitzman"},{"issue_id":"port-dz9.4","depends_on_id":"port-dz9.1","type":"blocks","created_at":"2026-02-11T00:10:06.646785-05:00","created_by":"Jacob Daitzman"},{"issue_id":"port-dz9.4","depends_on_id":"port-dz9.2","type":"blocks","created_at":"2026-02-11T00:10:06.824449-05:00","created_by":"Jacob Daitzman"},{"issue_id":"port-dz9.4","depends_on_id":"port-dz9.3","type":"blocks","created_at":"2026-02-11T00:10:07.008208-05:00","created_by":"Jacob Daitzman"}]}
{"id":"port-dz9.5","title":"Add OpenCode notification adapter for per-task progress events","description":"Implement optional notification adapter that emits immediate per-task progress/completion/failure updates to OpenCode without coupling scheduler core to OpenCode internals.","acceptance_criteria":"1) notifications emitted per task state change. 2) scheduler works without OpenCode adapter enabled.","status":"closed","priority":2,"issue_type":"feature","owner":"jdtzmn@gmail.com","created_at":"2026-02-11T00:10:05.827342-05:00","created_by":"Jacob Daitzman","updated_at":"2026-02-12T01:01:13.654823-05:00","closed_at":"2026-02-12T01:01:13.654823-05:00","close_reason":"Closed","dependencies":[{"issue_id":"port-dz9.5","depends_on_id":"port-dz9","type":"parent-child","created_at":"2026-02-11T00:10:05.828127-05:00","created_by":"Jacob Daitzman"},{"issue_id":"port-dz9.5","depends_on_id":"port-dz9.1","type":"blocks","created_at":"2026-02-11T00:10:07.176852-05:00","created_by":"Jacob Daitzman"}]}
{"id":"port-dz9.6","title":"Build remote adapter registry and stub remote adapter","description":"Add shared adapter registry/capability model and a stub remote adapter implementation behind port remote commands while keeping transport undecided.","acceptance_criteria":"1) local and stub remote implement same execution interface. 2) port remote adapters/status/doctor expose adapter state. 3) transport choice remains deferred.","status":"closed","priority":2,"issue_type":"feature","owner":"jdtzmn@gmail.com","created_at":"2026-02-11T00:10:06.079926-05:00","created_by":"Jacob Daitzman","updated_at":"2026-02-12T01:17:56.76687-05:00","closed_at":"2026-02-12T01:17:56.76687-05:00","close_reason":"Closed","dependencies":[{"issue_id":"port-dz9.6","depends_on_id":"port-dz9","type":"parent-child","created_at":"2026-02-11T00:10:06.080732-05:00","created_by":"Jacob Daitzman"},{"issue_id":"port-dz9.6","depends_on_id":"port-dz9.1","type":"blocks","created_at":"2026-02-11T00:10:07.359608-05:00","created_by":"Jacob Daitzman"},{"issue_id":"port-dz9.6","depends_on_id":"port-dz9.2","type":"blocks","created_at":"2026-02-11T00:10:07.567185-05:00","created_by":"Jacob Daitzman"}]}
{"id":"port-eak","title":"Complete V3 interactive attach handoff model","description":"Finish the remaining V3 attach plan scope that is not covered by revive-only attach. This includes interactive handoff, owner locks, force takeover, pause/resume control, reconnect and token behavior, artifact and redaction policy, and adapter parity requirements.","acceptance_criteria":"1) Interactive handoff works for running tasks at safe boundaries. 2) Owner-only attach lock and force takeover are enforced. 3) Pause/resume and reconnect flows satisfy plan behavior. 4) Required attach artifacts and redaction controls are implemented. 5) Local and remote adapters pass attach-handoff parity tests.","status":"open","priority":1,"issue_type":"epic","owner":"jdtzmn@gmail.com","created_at":"2026-02-12T14:57:44.212442-05:00","created_by":"Jacob Daitzman","updated_at":"2026-02-12T14:57:44.212442-05:00"}
{"id":"port-eak.1","title":"Add attach-handoff methods to adapter contract and registry","description":"Promote reserved attach interface hooks into active contract requirements. Add requestHandoff, attachContext, and resumeFromAttach methods, capability flags, and scheduler wiring for safe-boundary handoff orchestration.","acceptance_criteria":"1) Adapter interface and capability model require attach-handoff methods for attach-capable adapters. 2) Scheduler and command layer can call these methods through a common path. 3) Contract tests validate parity expectations for local and remote adapters.","status":"closed","priority":1,"issue_type":"feature","owner":"jdtzmn@gmail.com","created_at":"2026-02-12T14:57:44.626672-05:00","created_by":"Jacob Daitzman","updated_at":"2026-02-12T15:07:45.461461-05:00","closed_at":"2026-02-12T15:07:45.461461-05:00","close_reason":"Closed","dependencies":[{"issue_id":"port-eak.1","depends_on_id":"port-eak","type":"parent-child","created_at":"2026-02-12T14:57:44.632852-05:00","created_by":"Jacob Daitzman"}]}
{"id":"port-eak.2","title":"Implement attach session lock manager and owner enforcement","description":"Implement attach lock ownership, single active attacher semantics, and force takeover support. Track lock owner, session handle, and revoke behavior in task state.","acceptance_criteria":"1) Only lock owner can attach without takeover. 2) Second attach attempt returns lock conflict details. 3) --force takeover revokes prior lock and emits lifecycle events.","status":"closed","priority":1,"issue_type":"feature","owner":"jdtzmn@gmail.com","created_at":"2026-02-12T14:57:44.933121-05:00","created_by":"Jacob Daitzman","updated_at":"2026-02-18T00:28:10.150884-05:00","closed_at":"2026-02-18T00:28:10.150884-05:00","close_reason":"Closed","dependencies":[{"issue_id":"port-eak.2","depends_on_id":"port-eak","type":"parent-child","created_at":"2026-02-12T14:57:44.935318-05:00","created_by":"Jacob Daitzman"},{"issue_id":"port-eak.2","depends_on_id":"port-eak.1","type":"blocks","created_at":"2026-02-12T14:57:44.936812-05:00","created_by":"Jacob Daitzman"}]}
{"id":"port-eak.3","title":"Implement safe-boundary handoff and pause/resume task commands","description":"Add task pause and complete interactive attach flow transitions: pending_handoff, handoff_ready, client_attached, detached, reconnecting, and resume_failed. Ensure timeout pause while attached and resumed timeout afterward.","acceptance_criteria":"1) port task pause is available and state transitions match plan semantics. 2) Attach handoff waits for safe boundary and does not finalize while paused_for_attach. 3) Resume from paused or detached states restores background execution or marks resume_failed with guidance.","status":"open","priority":1,"issue_type":"feature","owner":"jdtzmn@gmail.com","created_at":"2026-02-12T14:57:45.243318-05:00","created_by":"Jacob Daitzman","updated_at":"2026-02-12T14:57:45.243318-05:00","dependencies":[{"issue_id":"port-eak.3","depends_on_id":"port-eak","type":"parent-child","created_at":"2026-02-12T14:57:45.249009-05:00","created_by":"Jacob Daitzman"},{"issue_id":"port-eak.3","depends_on_id":"port-eak.1","type":"blocks","created_at":"2026-02-12T14:57:45.259523-05:00","created_by":"Jacob Daitzman"}]}
{"id":"port-eak.4","title":"Launch configured attach client and manage reconnect/resume tokens","description":"Implement client-neutral attach launcher using task.attach.client configuration and token lifecycle for reconnect and resume flows. Provide operator guidance when client launch fails.","acceptance_criteria":"1) port task attach launches configured client command with continuation context. 2) Resume token and reconnect grace windows are enforced. 3) Client crash or disconnect triggers auto-resume or resume_failed path with actionable output.","status":"open","priority":2,"issue_type":"feature","owner":"jdtzmn@gmail.com","created_at":"2026-02-12T14:57:45.74444-05:00","created_by":"Jacob Daitzman","updated_at":"2026-02-12T14:57:45.74444-05:00","dependencies":[{"issue_id":"port-eak.4","depends_on_id":"port-eak","type":"parent-child","created_at":"2026-02-12T14:57:45.74997-05:00","created_by":"Jacob Daitzman"},{"issue_id":"port-eak.4","depends_on_id":"port-eak.3","type":"blocks","created_at":"2026-02-12T14:57:45.753274-05:00","created_by":"Jacob Daitzman"}]}
{"id":"port-eak.5","title":"Implement attach artifacts, failed snapshots, and redaction policy","description":"Persist required attach artifacts including session metadata, lifecycle log, command and I/O logs, detach patch, and failed snapshot bundle. Apply transcript redaction rules before persistence.","acceptance_criteria":"1) Required attach artifacts are produced in .port/jobs/artifacts/\u003ctask-id\u003e/attach. 2) Failed attach paths capture snapshot bundle and manifest. 3) Redaction policy removes sensitive values from persisted transcripts.","status":"open","priority":2,"issue_type":"feature","owner":"jdtzmn@gmail.com","created_at":"2026-02-12T14:57:46.949049-05:00","created_by":"Jacob Daitzman","updated_at":"2026-02-12T14:57:46.949049-05:00","dependencies":[{"issue_id":"port-eak.5","depends_on_id":"port-eak","type":"parent-child","created_at":"2026-02-12T14:57:46.951216-05:00","created_by":"Jacob Daitzman"},{"issue_id":"port-eak.5","depends_on_id":"port-eak.3","type":"blocks","created_at":"2026-02-12T14:57:46.952786-05:00","created_by":"Jacob Daitzman"}]}
{"id":"port-eak.6","title":"Upgrade local adapter to full attach-capable implementation","description":"Extend local adapter beyond checkpoint/restore to implement requestHandoff, attachContext, and resumeFromAttach with attach-capable capability flags, including session metadata used for OpenCode continuation.","acceptance_criteria":"1) Local adapter reports attach-capable flags and implements required handoff methods. 2) Checkpoint metadata supports native continue and fallback summary paths. 3) Integration tests cover handoff, detach, and resume behavior for local adapter.","status":"in_progress","priority":1,"issue_type":"feature","owner":"jdtzmn@gmail.com","created_at":"2026-02-12T14:57:47.422074-05:00","created_by":"Jacob Daitzman","updated_at":"2026-02-18T00:28:50.080447-05:00","dependencies":[{"issue_id":"port-eak.6","depends_on_id":"port-eak","type":"parent-child","created_at":"2026-02-12T14:57:47.423938-05:00","created_by":"Jacob Daitzman"},{"issue_id":"port-eak.6","depends_on_id":"port-eak.1","type":"blocks","created_at":"2026-02-12T14:57:47.428136-05:00","created_by":"Jacob Daitzman"}]}
{"id":"port-eak.7","title":"Implement e2b-opencode remote adapter with attach parity","description":"Build a real e2b-opencode remote adapter implementing prepare/start/status/checkpoint/restore plus attach handoff methods. Ensure scheduler integration and parity with local adapter behavior for continuation and event stream semantics.","acceptance_criteria":"1) e2b-opencode adapter can execute tasks remotely and report status reliably. 2) Checkpoint and restore support OpenCode continue compatibility. 3) Attach handoff lifecycle events and resume semantics match local adapter expectations. 4) Remote adapter passes contract and integration parity tests.","status":"open","priority":1,"issue_type":"feature","owner":"jdtzmn@gmail.com","created_at":"2026-02-12T14:57:47.860705-05:00","created_by":"Jacob Daitzman","updated_at":"2026-02-12T14:57:47.860705-05:00","dependencies":[{"issue_id":"port-eak.7","depends_on_id":"port-eak","type":"parent-child","created_at":"2026-02-12T14:57:47.86318-05:00","created_by":"Jacob Daitzman"},{"issue_id":"port-eak.7","depends_on_id":"port-eak.1","type":"blocks","created_at":"2026-02-12T14:57:47.865448-05:00","created_by":"Jacob Daitzman"}]}
{"id":"port-eak.8","title":"Add end-to-end V3 attach parity and reliability test suite","description":"Add integration and contract tests for attach locks, takeover, handoff transitions, reconnect windows, token expiry, artifact generation, and local/remote parity.","acceptance_criteria":"1) Tests cover all remaining V3 acceptance criteria. 2) Failure modes produce clear errors and recoverable states. 3) CI can run focused attach suite for local and e2b-opencode adapters.","status":"open","priority":2,"issue_type":"task","owner":"jdtzmn@gmail.com","created_at":"2026-02-12T14:57:48.281215-05:00","created_by":"Jacob Daitzman","updated_at":"2026-02-12T14:57:48.281215-05:00","dependencies":[{"issue_id":"port-eak.8","depends_on_id":"port-eak","type":"parent-child","created_at":"2026-02-12T14:57:48.283948-05:00","created_by":"Jacob Daitzman"},{"issue_id":"port-eak.8","depends_on_id":"port-eak.2","type":"blocks","created_at":"2026-02-12T14:57:48.285812-05:00","created_by":"Jacob Daitzman"},{"issue_id":"port-eak.8","depends_on_id":"port-eak.3","type":"blocks","created_at":"2026-02-12T14:57:48.287897-05:00","created_by":"Jacob Daitzman"},{"issue_id":"port-eak.8","depends_on_id":"port-eak.5","type":"blocks","created_at":"2026-02-12T14:57:48.289254-05:00","created_by":"Jacob Daitzman"},{"issue_id":"port-eak.8","depends_on_id":"port-eak.6","type":"blocks","created_at":"2026-02-12T14:57:48.290869-05:00","created_by":"Jacob Daitzman"},{"issue_id":"port-eak.8","depends_on_id":"port-eak.7","type":"blocks","created_at":"2026-02-12T14:57:48.292521-05:00","created_by":"Jacob Daitzman"}]}
{"id":"port-eak.9","title":"Harden attach lock manager: stale lock watchdog, module extraction, reconnect state","description":"Follow-up from port-eak.2. The core lock check/revoke/event flow is complete, but these robustness items remain:\n\n1. Extract lock helpers into src/lib/attachLock.ts so the daemon can reuse them\n2. Add stale lock watchdog in daemon (handleStaleAttachLocks with configurable TTL)\n3. Wire reconnecting state transition for same-owner re-attach\n4. Enforce resumeTokenExpiresAt in lock-active check or daemon watchdog\n5. Include old sessionHandle in revoke event message\n6. Test: stale lock cleanup and same-owner re-attach","acceptance_criteria":"1) Lock helpers are extracted and importable by daemon. 2) Stale locks are auto-revoked after configurable TTL. 3) Same-owner re-attach transitions through reconnecting state. 4) Expired resume tokens downgrade lock to detached.","status":"open","priority":2,"issue_type":"task","owner":"jdtzmn@gmail.com","created_at":"2026-02-18T00:28:37.498716-05:00","created_by":"Jacob Daitzman","updated_at":"2026-02-18T00:28:37.498716-05:00","dependencies":[{"issue_id":"port-eak.9","depends_on_id":"port-eak","type":"parent-child","created_at":"2026-02-18T00:28:37.502238-05:00","created_by":"Jacob Daitzman"}]}
{"id":"port-ff2","title":"Fix all sudo commands to use execPrivileged","description":"Replace all sudo commands with `execPrivileged`. At least the uninstall command needs fixing.","status":"closed","priority":2,"issue_type":"bug","owner":"jdtzmn@gmail.com","created_at":"2026-02-17T23:20:35.950167-05:00","created_by":"Jacob Daitzman","updated_at":"2026-02-17T23:21:58.231288-05:00","closed_at":"2026-02-17T23:21:58.231288-05:00","close_reason":"Closed","external_ref":"gh-6"}
{"id":"port-gw8","title":"port down does not offer Traefik shutdown when override.yml is missing","description":"## Problem\\nIn a local port project without an override.yml file, running → Stopping services in port...\n✓ Services stopped in port does not prompt to shut down the Traefik service.\\n\\n## Expected behavior\\n→ Stopping services in port...\n✓ Services stopped in port should still offer to shut down Traefik even when override.yml is absent.\\n\\n## Notes\\nThis appears to be a local project edge case where Traefik detection/prompting may depend on override.yml existing.","notes":"Revised plan (per product direction):\\n- Do NOT introduce template files for user overrides.\\n- Add a single user-editable file: .port/override-compose.yml (scaffolded by port init).\\n- File contains instructions/examples only by default; no active overrides.\\n- Render .port/override-compose.yml with PORT_* runtime vars into generated .port/override.user.yml before compose operations.\\n- Compose precedence: base compose -\u003e .port/override.yml (Port-generated) -\u003e .port/override.user.yml (user layer, last wins).\\n- If .port/override-compose.yml is missing, skip user layer without error.\\n- Also fix bug behavior so port down still reaches Traefik shutdown prompt when .port/override.yml is absent.\nScope split: the new override-compose user layer is tracked separately in port-idm. This bug remains focused on ensuring port down still reaches Traefik shutdown flow when .port/override.yml is missing.","status":"closed","priority":2,"issue_type":"bug","owner":"jdtzmn@gmail.com","created_at":"2026-02-06T10:09:24.908319-05:00","created_by":"Jacob Daitzman","updated_at":"2026-02-10T22:26:14.878975-05:00","closed_at":"2026-02-10T22:26:14.878975-05:00","close_reason":"Closed"}
{"id":"port-idm","title":"Add user override-compose.yml layer rendered to .port/override.user.yml","description":"## Goal\\nIntroduce a first-class user override layer for docker compose without requiring users to edit Port-generated files.\\n\\n## Scope\\n- Add a user-editable file: .port/override-compose.yml (created by port init).\\n- The file should contain instructional comments/examples and no active overrides by default.\\n- At runtime, render .port/override-compose.yml with PORT_* variables into generated .port/override.user.yml.\\n- Compose precedence should be: base compose -\u003e .port/override.yml (Port-generated) -\u003e .port/override.user.yml (user layer, last wins).\\n- If .port/override-compose.yml is missing, skip the user layer without error.\\n- Update docs for behavior and supported PORT_* vars.\\n\\n## Notes\\nThis is intentionally separate from bug port-gw8, which only covers port down behavior when .port/override.yml is missing.","notes":"Implementation started and mostly complete:\\n- Added .port/override-compose.yml scaffold in port init with no active defaults.\\n- Added runtime rendering of .port/override-compose.yml -\u003e .port/override.user.yml with PORT_* substitution.\\n- Wired compose file precedence to include rendered user layer last.\\n- Updated up/down/remove/compose/list compose execution paths to pass runtime context for rendering.\\n- Updated docs in README compose override reference.\\n- Added tests in src/lib/compose.test.ts (stack order + variable rendering + file rendering) and src/commands/init.test.ts (scaffold creation).\\n- Updated remove command test for new runCompose runtime context argument.\\n- Validation run: bun run test src/lib/compose.test.ts src/commands/init.test.ts src/commands/remove.test.ts src/commands/down.test.ts; bun run typecheck; bun run lint.","status":"closed","priority":2,"issue_type":"feature","owner":"jdtzmn@gmail.com","created_at":"2026-02-06T10:27:49.91253-05:00","created_by":"Jacob Daitzman","updated_at":"2026-02-06T11:29:06.890612-05:00","closed_at":"2026-02-06T11:29:06.890612-05:00","close_reason":"Added override-compose user layer rendered to override.user.yml with docs and tests"}
{"id":"port-tzu","title":"Add test for port rm from within the worktree","description":"Add a test for `port rm` when run from within the worktree. It should probably run `port exit` (doesn't exist yet) before removing the worktree.","status":"open","priority":2,"issue_type":"task","owner":"jdtzmn@gmail.com","created_at":"2026-02-17T23:20:41.966984-05:00","created_by":"Jacob Daitzman","updated_at":"2026-02-17T23:20:41.966984-05:00","external_ref":"gh-9"}
{"id":"port-v1b","title":"Add 'port kill' command to stop running commands","description":"Implement a 'port kill' command that terminates commands currently running via 'port run' (the opposite behavior of 'port run').","acceptance_criteria":"'port kill' appears in CLI help and stops active 'port run' processes gracefully (or forcefully when needed).","status":"closed","priority":2,"issue_type":"task","owner":"jdtzmn@gmail.com","created_at":"2026-02-06T01:08:31.186786-05:00","created_by":"Jacob Daitzman","updated_at":"2026-02-06T11:28:56.467585-05:00","closed_at":"2026-02-06T11:28:56.467585-05:00","close_reason":"Added port kill command with graceful/forceful host process termination and tests"}
{"id":"port-wv8","title":"Split port ls summary from per-service status details","description":"## Problem\\nThe current port ls output includes both worktree-level state and per-service status for all worktrees, which can become noisy in larger repos.\\n\\n## Proposed change\\n- Keep port ls focused on a concise summary: active worktrees with their current overall state (for example running or stopped).\\n- Keep host-services reporting in port ls.\\n- Add a separate status command that shows per-service status details for a target worktree.\\n\\n## Notes\\nThis change is intended to reduce default output bloat while preserving detailed diagnostics when explicitly requested.","acceptance_criteria":"1) port ls shows worktree-level summary only and still includes host services. 2) A new status command is available for per-service status by worktree. 3) CLI help/docs are updated to reflect ls vs status responsibilities. 4) Tests cover ls summary behavior and status detailed behavior.","status":"closed","priority":2,"issue_type":"task","owner":"jdtzmn@gmail.com","created_at":"2026-02-06T10:54:32.177045-05:00","created_by":"Jacob Daitzman","updated_at":"2026-02-06T11:28:56.590135-05:00","closed_at":"2026-02-06T11:28:56.590135-05:00","close_reason":"Split ls summary output from detailed per-service status via new status command"}
