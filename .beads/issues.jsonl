{"id":"port-334","title":"Normalize container_name by worktree in override generation","description":"Add a defensive normalization step in Port's override generation so any service that declares container_name gets a worktree-scoped name in .port/override.yml instead of the fixed upstream value.\n\nImplementation details:\n- In generateOverrideContent (src/lib/compose.ts), when iterating services, check service.container_name.\n- If present, set serviceOverride.container_name to a deterministic unique value derived from Port project/worktree identity (for example ${worktreeName}-${serviceName} or ${projectName}-${serviceName}), sanitized to [a-z0-9][a-z0-9_.-]* and truncated safely.\n- Keep behavior unchanged for services without container_name.\n- Continue overriding ports/labels/networks as today.\n\nTests in src/lib/compose.test.ts:\n1) Fixed container_name is rewritten.\n2) Rewritten name is stable for a given worktree.\n3) Different worktrees produce different names.\n\nOptional follow-up (nice-to-have): emit a warning log when Port detects and rewrites container_name so users understand why port up succeeds where raw compose might conflict.","status":"closed","priority":2,"issue_type":"task","owner":"jdtzmn@gmail.com","created_at":"2026-02-05T23:17:56.485749-05:00","created_by":"Jacob Daitzman","updated_at":"2026-02-05T23:38:18.160734-05:00","closed_at":"2026-02-05T23:38:18.160734-05:00","close_reason":"Override generation now rewrites fixed container_name values to deterministic worktree-scoped names with tests for rewrite, stability, and per-worktree uniqueness"}
{"id":"port-90z","title":"Port down from anywhere even if it's not initialized should bring down traefik","status":"closed","priority":0,"issue_type":"task","owner":"jdtzmn@gmail.com","created_at":"2026-02-05T22:06:45.778503-05:00","created_by":"Jacob Daitzman","updated_at":"2026-02-05T23:49:39.712242-05:00","closed_at":"2026-02-05T23:49:39.712242-05:00","close_reason":"port down now falls back to global Traefik shutdown when outside a port worktree or in a repository that is not initialized, with prompt and --yes support plus unit tests"}
{"id":"port-duo","title":"Project hardening and DX improvements","description":"Track reliability, security, CI, and docs improvements identified in repo review.","status":"open","priority":1,"issue_type":"epic","owner":"jdtzmn@gmail.com","created_at":"2026-02-05T23:10:40.316486-05:00","created_by":"Jacob Daitzman","updated_at":"2026-02-05T23:10:40.316486-05:00"}
{"id":"port-duo.1","title":"Fix README and docs drift to match current .port behavior","description":"Update README examples and architecture docs from legacy .code/.local and old config shape to current .port/domain behavior.","status":"closed","priority":1,"issue_type":"task","owner":"jdtzmn@gmail.com","created_at":"2026-02-05T23:10:40.388591-05:00","created_by":"Jacob Daitzman","updated_at":"2026-02-05T23:17:22.748574-05:00","closed_at":"2026-02-05T23:17:22.748574-05:00","close_reason":"README updated to use .port paths, *.port domain, current config schema, and Bun runtime requirements","dependencies":[{"issue_id":"port-duo.1","depends_on_id":"port-duo","type":"parent-child","created_at":"2026-02-05T23:10:40.389411-05:00","created_by":"Jacob Daitzman"}]}
{"id":"port-duo.2","title":"Harden command execution and argument handling","description":"Reduce shell-string interpolation usage and move to safer argument-based execution where possible to avoid injection and quoting issues.","status":"open","priority":1,"issue_type":"task","owner":"jdtzmn@gmail.com","created_at":"2026-02-05T23:10:40.458948-05:00","created_by":"Jacob Daitzman","updated_at":"2026-02-05T23:10:40.458948-05:00","dependencies":[{"issue_id":"port-duo.2","depends_on_id":"port-duo","type":"parent-child","created_at":"2026-02-05T23:10:40.459474-05:00","created_by":"Jacob Daitzman"}]}
{"id":"port-duo.3","title":"Add locking/atomicity for global registry and Traefik state","description":"Prevent race conditions when multiple port commands run concurrently by introducing file locks or atomic write strategy.","status":"open","priority":1,"issue_type":"task","owner":"jdtzmn@gmail.com","created_at":"2026-02-05T23:10:40.526792-05:00","created_by":"Jacob Daitzman","updated_at":"2026-02-05T23:10:40.526792-05:00","dependencies":[{"issue_id":"port-duo.3","depends_on_id":"port-duo","type":"parent-child","created_at":"2026-02-05T23:10:40.527298-05:00","created_by":"Jacob Daitzman"}]}
{"id":"port-duo.4","title":"Isolate tests from real user ~/.port state","description":"Refactor tests to use temp HOME or injectable global paths so tests never read/write real user state.","status":"open","priority":1,"issue_type":"task","owner":"jdtzmn@gmail.com","created_at":"2026-02-05T23:10:40.591872-05:00","created_by":"Jacob Daitzman","updated_at":"2026-02-05T23:10:40.591872-05:00","dependencies":[{"issue_id":"port-duo.4","depends_on_id":"port-duo","type":"parent-child","created_at":"2026-02-05T23:10:40.592397-05:00","created_by":"Jacob Daitzman"}]}
{"id":"port-duo.5","title":"Add macOS CI coverage in addition to Linux","description":"Introduce at least one macOS CI job for core workflows to validate claimed platform support.","status":"open","priority":2,"issue_type":"task","owner":"jdtzmn@gmail.com","created_at":"2026-02-05T23:10:40.662548-05:00","created_by":"Jacob Daitzman","updated_at":"2026-02-05T23:10:40.662548-05:00","dependencies":[{"issue_id":"port-duo.5","depends_on_id":"port-duo","type":"parent-child","created_at":"2026-02-05T23:10:40.663406-05:00","created_by":"Jacob Daitzman"}]}
{"id":"port-duo.6","title":"Centralize CLI error and exit handling","description":"Reduce direct process.exit calls inside command modules and route failures through a consistent top-level error handling approach.","status":"open","priority":2,"issue_type":"task","owner":"jdtzmn@gmail.com","created_at":"2026-02-05T23:10:40.728293-05:00","created_by":"Jacob Daitzman","updated_at":"2026-02-05T23:10:40.728293-05:00","dependencies":[{"issue_id":"port-duo.6","depends_on_id":"port-duo","type":"parent-child","created_at":"2026-02-05T23:10:40.728953-05:00","created_by":"Jacob Daitzman"}]}
{"id":"port-duo.7","title":"Align runtime messaging and packaging (Bun vs Node)","description":"Clarify runtime expectations across README, scripts, and packaging to avoid mixed Bun/Node messaging.","status":"open","priority":2,"issue_type":"task","owner":"jdtzmn@gmail.com","created_at":"2026-02-05T23:10:40.794224-05:00","created_by":"Jacob Daitzman","updated_at":"2026-02-05T23:10:40.794224-05:00","dependencies":[{"issue_id":"port-duo.7","depends_on_id":"port-duo","type":"parent-child","created_at":"2026-02-05T23:10:40.794803-05:00","created_by":"Jacob Daitzman"}]}
{"id":"port-duo.8","title":"Remove unused dependencies docker-compose and dockerode","description":"Verify source usage and remove unused dependencies to reduce install size and dependency surface.","status":"open","priority":3,"issue_type":"chore","owner":"jdtzmn@gmail.com","created_at":"2026-02-05T23:10:40.860286-05:00","created_by":"Jacob Daitzman","updated_at":"2026-02-05T23:10:40.860286-05:00","dependencies":[{"issue_id":"port-duo.8","depends_on_id":"port-duo","type":"parent-child","created_at":"2026-02-05T23:10:40.860792-05:00","created_by":"Jacob Daitzman"}]}
{"id":"port-duo.9","title":"Add test coverage for port uninstall command","description":"Add automated tests for src/commands/uninstall.ts, including no-op when DNS is not configured, confirmation flow, --yes behavior, and platform-specific uninstall path selection (macOS/linux dual-mode/standalone) with mocked side effects.","status":"open","priority":2,"issue_type":"task","owner":"jdtzmn@gmail.com","created_at":"2026-02-05T23:53:18.630752-05:00","created_by":"Jacob Daitzman","updated_at":"2026-02-05T23:53:18.630752-05:00","dependencies":[{"issue_id":"port-duo.9","depends_on_id":"port-duo","type":"parent-child","created_at":"2026-02-05T23:53:18.63139-05:00","created_by":"Jacob Daitzman"}]}
